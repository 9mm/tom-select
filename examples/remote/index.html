<!DOCTYPE html>
<html class="no-js">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title> Remote Data Examples -  Tom Select</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
		<link rel="stylesheet" href="/css/stylesheet.css">
		<link href="https://unpkg.com/prismjs@1.20.0/themes/prism.css" rel="stylesheet" media="print" onload="this.media='all'"> 
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg==" crossorigin="anonymous" />

		<script src="/js/jquery.min.js"></script>
		<script src="/js/bootstrap.min.js"></script>

		
		<script src="/js/tom-select.complete.js"></script>
		

		<script src="/js/index.js"></script>
		
	</head>
    <body>
		<div class="">

			<div class="row flex-lg-nowrap no-gutters">
				<div class="col-md-9 col-xl-10">
				</div>
			</div>

			<div class="row flex-lg-nowrap no-gutters" style="min-height:100vh;">

				<div class="col-md-3 col-lg-2 d-flex flex-column bg-light border-right px-0 offcanvas pt-5">
					

	<a href="/" class="h5 my-0 px-4 py-3 d-block">Home</a>

	


	


	<a href="/examples/" class="h5 px-4 py-3 my-0 d-block">Examples</a>
	
	<nav class="nav flex-column">
		
		  
		<a class="nav-link " href="/examples/">

		
			Basic
		
		</a>
	
		
		  
		<a class="nav-link " href="/examples/customization/">

		
			Custom HTML
		
		</a>
	
		
		  
		<a class="nav-link " href="/examples/contacts/">

		
			Email Contacts
		
		</a>
	
		
		  
		<a class="nav-link " href="/examples/esm/">

		
			ESM Modules
		
		</a>
	
		
		  
		<a class="nav-link " href="/examples/events/">

		
			Events
		
		</a>
	
		
		  
		<a class="nav-link " href="/examples/validation/">

		
			Form Validation
		
		</a>
	
		
		  
		<a class="nav-link " href="/examples/create-filter/">

		
			Item Creation
		
		</a>
	
		
		  
		<a class="nav-link " href="/examples/api/">

		
			JavaScript API
		
		</a>
	
		
		  
		<a class="nav-link " href="/examples/performance/">

		
			Large Dataset
		
		</a>
	
		
		  
		<a class="nav-link " href="/examples/lock/">

		
			Locking
		
		</a>
	
		
		  
		<a class="nav-link " href="/examples/optgroups/">

		
			Option Groups
		
		</a>
	
		
		  
		<a class="nav-link " href="/examples/options/">

		
			Options Array
		
		</a>
	
		
		  
		<a class="nav-link " href="/examples/plugins/">

		
			Plugins
		
		</a>
	
		
		  
		<a class="nav-link  active " href="/examples/remote/">

		
			Remote Data
		
		</a>
	
		
		  
		<a class="nav-link " href="/examples/rtl/">

		
			RTL
		
		</a>
	
		
	</nav>
	


	<a href="/docs" class="h5 px-4 py-3 my-0 d-block">Docs</a>
	

	<div class="border-bottom m-4"></div>

	<a href="https://github.com/orchidjs/tom-select" class="h5 px-4 py-3 my-0 d-block">GitHub</a>
	<a href="https://www.npmjs.com/package/tom-select" class="h5 px-4 py-3 my-0 d-block">NPM</a>


	<div class="mt-auto p-4 badges small">
		<a href="https://github.com/orchidjs/tom-select/blob/master/./doc_src/pages/examples/remote.njk">Edit this page on GitHub</a>
		<div class="mt-2"><a href="https://github.com/orchidjs/tom-select/graphs/contributors">Â© 2020 Contributors</a></div>
	</div>

				</div>

				<div class="col-md-9 col-lg-10 pb-5">
					<div class="my-4">
						<div class="container">
							<button class="toggle-offcanvas btn btn-light" type="button">
								<span class="navbar-toggler-icon"></span>
							</button>
							
							<h1 class="display-4 mt-0">Remote Data Examples</h1>
							
						</div>
					</div>
					<div class="container mt-3" id="main-container">
					


<style type="text/css">

</style>







<script>

</script>


	

	<div class="demo py-5  demo-jquery ">

		
<label class="h2 mb-3">
	Ajax Loading
</label>
<p>We use jQuery in this example to fetch remote date from GitHub</p>

	<div>
		<div>
			<div class="demo-html">
				
<select id="select-repo" placeholder="Pick a repository..." multiple></select>

			</div>

			
			<textarea hidden>
&lt;select id=&quot;select-repo&quot; placeholder=&quot;Pick a repository...&quot; multiple&gt;&lt;/select&gt;
</textarea>
			<script>
new TomSelect('#select-repo',{
		valueField: 'url',
		labelField: 'name',
		searchField: 'name',
		// fetch remote data https://caniuse.com/fetch
		load: function(query, callback) {
			if (!query.length) return callback();

			var url = 'https://api.github.com/search/repositories?q=' + encodeURIComponent(query);
			fetch(url)
				.then(response => response.json())
				.then(json => {
					callback(json.items);
				}).catch(()=>{
					callback();
				});

		},
		// custom rendering functions for options and items
		render: {
			option: function(item, escape) {
				return `<div class="py-2 d-flex">
							<div class="icon mr-3">
								<img class="img-fluid" src="${item.owner.avatar_url}" />
							</div>
							<div>
								<div class="mb-1">
									<span class="h4">
										${ escape(item.name) }
									</span>
									<span class="text-muted">by ${ escape(item.owner.login) }</span>
								</div>
						 		<div class="description">${ escape(item.description) }</div>
							</div>
						</div>`;
			},
			item: function(item, escape) {
				return `<div class="py-2 d-flex">
							<div class="icon mr-3">
								<img class="img-fluid" src="${item.owner.avatar_url}" />
							</div>
							<div>
								<div class="mb-1">
									<span class="h4">
										${ escape(item.name) }
									</span>
									<span class="text-muted">by ${ escape(item.owner.login) }</span>
								</div>
						 		<div class="description">${ escape(item.description) }</div>
							</div>
						</div>`;
			}
		},
	});
</script>
			<style>
.icon{
	width: 3rem;
}
</style>

		</div>
		<div class="mt-4">

			<ul class="nav nav-tabs" role="tablist">
				
				<li class="nav-item" role="presentation">
					<a class="nav-link active" data-toggle="tab" data-target="#javascript-tab-1" role="tab" aria-controls="home" aria-selected="true">JavaScript</a>
				</li>
				
				<li class="nav-item" role="presentation">
					<a class="nav-link " data-toggle="tab" data-target="#html-tab-1" role="tab" aria-controls="profile" aria-selected="false">HTML</a>
				</li>
				
				<li class="nav-item" role="presentation">
					<a class="nav-link" data-toggle="tab" data-target="#style-tab-1" role="tab" aria-controls="profile" aria-selected="false">CSS</a>
				</li>
				

				
				<li class="nav-item ml-auto">
					<form action="https://jsfiddle.net/api/post/library/pure/" method="POST" target="_blank">
						<input class="jsfiddle-html" type="hidden" name="html" value=""/>
						<input class="jsfiddle-js" type="hidden" name="js" value=""/>
						<input class="jsfiddle-css" type="hidden" name="css" value=""/>
						<input class="jsfiddle-resources" type="hidden" name="resources" value=""/>
							<a class="nav-link opensandbox">JSFiddle</a>
					</form>
				</li>
				<li class="nav-item">
				<form action="https://codepen.io/pen/define" method="POST" target="_blank">
					<input class="codepen" type="hidden" name="data" value=""/>
						<a class="nav-link opensandbox">CodePen</a>
				</form>
				</li>
				

				

			</ul>

			<div class="tab-content">
				
				<div class="tab-pane fade show active" id="javascript-tab-1" role="tabpanel" aria-labelledby="home-tab">
					<pre class="language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">TomSelect</span><span class="token punctuation">(</span><span class="token string">'#select-repo'</span><span class="token punctuation">,</span><span class="token punctuation">{</span><br>		valueField<span class="token operator">:</span> <span class="token string">'url'</span><span class="token punctuation">,</span><br>		labelField<span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span><br>		searchField<span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span><br>		<span class="token comment">// fetch remote data https://caniuse.com/fetch</span><br>		<span class="token function-variable function">load</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">query<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>query<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>			<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">'https://api.github.com/search/repositories?q='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span><br>			<span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><br>				<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>				<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">json</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>					<span class="token function">callback</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>items<span class="token punctuation">)</span><span class="token punctuation">;</span><br>				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">{</span><br>					<span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>		<span class="token punctuation">}</span><span class="token punctuation">,</span><br>		<span class="token comment">// custom rendering functions for options and items</span><br>		render<span class="token operator">:</span> <span class="token punctuation">{</span><br>			<span class="token function-variable function">option</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> escape</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>				<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class="py-2 d-flex"><br>							&lt;div class="icon mr-3"><br>								&lt;img class="img-fluid" src="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>avatar_url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">" /><br>							&lt;/div><br>							&lt;div><br>								&lt;div class="mb-1"><br>									&lt;span class="h4"><br>										</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"><br>									&lt;/span><br>									&lt;span class="text-muted">by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>login<span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span><br>								&lt;/div><br>						 		&lt;div class="description"></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>description<span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div><br>							&lt;/div><br>						&lt;/div></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>			<span class="token punctuation">}</span><span class="token punctuation">,</span><br>			<span class="token function-variable function">item</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> escape</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>				<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class="py-2 d-flex"><br>							&lt;div class="icon mr-3"><br>								&lt;img class="img-fluid" src="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>avatar_url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">" /><br>							&lt;/div><br>							&lt;div><br>								&lt;div class="mb-1"><br>									&lt;span class="h4"><br>										</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"><br>									&lt;/span><br>									&lt;span class="text-muted">by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>login<span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span><br>								&lt;/div><br>						 		&lt;div class="description"></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>description<span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div><br>							&lt;/div><br>						&lt;/div></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>			<span class="token punctuation">}</span><br>		<span class="token punctuation">}</span><span class="token punctuation">,</span><br>	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
				</div>
				

				<div class="tab-pane fade " id="html-tab-1" role="tabpanel" aria-labelledby="profile-tab">
					<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select-repo<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Pick a repository...<span class="token punctuation">"</span></span> <span class="token attr-name">multiple</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></code></pre>
				</div>

				
				<div class="tab-pane fade" id="style-tab-1" role="tabpanel" aria-labelledby="profile-tab">
					<pre class="language-css"><code class="language-css"><span class="token selector">.icon</span><span class="token punctuation">{</span><br>	<span class="token property">width</span><span class="token punctuation">:</span> 3rem<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
				</div>
				

			</div>
		</div>
	</div>
	</div>




<style type="text/css">

</style>







<script>

</script>


	

	<div class="demo py-5  demo-jquery ">

		
<label class="h2 mb-3">Load Once</label>
<p>Load a list of web technologies once</p>

	<div>
		<div>
			<div class="demo-html">
				
<select id="select-state" placeholder="Software: WordPress, Apache ..." multiple></select>

			</div>

			
			<textarea hidden>
&lt;select id=&quot;select-state&quot; placeholder=&quot;Software: WordPress, Apache ...&quot; multiple&gt;&lt;/select&gt;
</textarea>
			<script>
new TomSelect('#select-state',{
		valueField: 'label',
		labelField: 'label',
		searchField: ['label','type'],
		// fetch remote data https://caniuse.com/fetch
		load: function(query, callback) {
			var self = this;
			if( self.loading > 1 ){
				callback();
				return;
			}

			var url = 'https://whatcms.org/API/List';
			fetch(url)
				.then(response => response.json())
				.then(json => {
					callback(json.result.list);
					self.settings.load = null;
				}).catch(()=>{
					callback();
				});

		},
		// custom rendering function for options
		render: {
			option: function(item, escape) {
				return `<div class="py-2 d-flex">
							<div class="mb-1">
								<span class="h5">
									${ escape(item.label) }
								</span>
							</div>
					 		<div class="ml-auto">${ escape(item.type.join(', ')) }</div>
						</div>`;
			}
		},
	});
</script>
			<style>
.icon{
	width: 3rem;
}
</style>

		</div>
		<div class="mt-4">

			<ul class="nav nav-tabs" role="tablist">
				
				<li class="nav-item" role="presentation">
					<a class="nav-link active" data-toggle="tab" data-target="#javascript-tab-2" role="tab" aria-controls="home" aria-selected="true">JavaScript</a>
				</li>
				
				<li class="nav-item" role="presentation">
					<a class="nav-link " data-toggle="tab" data-target="#html-tab-2" role="tab" aria-controls="profile" aria-selected="false">HTML</a>
				</li>
				
				<li class="nav-item" role="presentation">
					<a class="nav-link" data-toggle="tab" data-target="#style-tab-2" role="tab" aria-controls="profile" aria-selected="false">CSS</a>
				</li>
				

				
				<li class="nav-item ml-auto">
					<form action="https://jsfiddle.net/api/post/library/pure/" method="POST" target="_blank">
						<input class="jsfiddle-html" type="hidden" name="html" value=""/>
						<input class="jsfiddle-js" type="hidden" name="js" value=""/>
						<input class="jsfiddle-css" type="hidden" name="css" value=""/>
						<input class="jsfiddle-resources" type="hidden" name="resources" value=""/>
							<a class="nav-link opensandbox">JSFiddle</a>
					</form>
				</li>
				<li class="nav-item">
				<form action="https://codepen.io/pen/define" method="POST" target="_blank">
					<input class="codepen" type="hidden" name="data" value=""/>
						<a class="nav-link opensandbox">CodePen</a>
				</form>
				</li>
				

				

			</ul>

			<div class="tab-content">
				
				<div class="tab-pane fade show active" id="javascript-tab-2" role="tabpanel" aria-labelledby="home-tab">
					<pre class="language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">TomSelect</span><span class="token punctuation">(</span><span class="token string">'#select-state'</span><span class="token punctuation">,</span><span class="token punctuation">{</span><br>		valueField<span class="token operator">:</span> <span class="token string">'label'</span><span class="token punctuation">,</span><br>		labelField<span class="token operator">:</span> <span class="token string">'label'</span><span class="token punctuation">,</span><br>		searchField<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'label'</span><span class="token punctuation">,</span><span class="token string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>		<span class="token comment">// fetch remote data https://caniuse.com/fetch</span><br>		<span class="token function-variable function">load</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">query<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>			<span class="token keyword">var</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span><br>			<span class="token keyword">if</span><span class="token punctuation">(</span> self<span class="token punctuation">.</span>loading <span class="token operator">></span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">{</span><br>				<span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>				<span class="token keyword">return</span><span class="token punctuation">;</span><br>			<span class="token punctuation">}</span><br><br>			<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">'https://whatcms.org/API/List'</span><span class="token punctuation">;</span><br>			<span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><br>				<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>				<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">json</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>					<span class="token function">callback</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>result<span class="token punctuation">.</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span><br>					self<span class="token punctuation">.</span>settings<span class="token punctuation">.</span>load <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br>				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">{</span><br>					<span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>		<span class="token punctuation">}</span><span class="token punctuation">,</span><br>		<span class="token comment">// custom rendering function for options</span><br>		render<span class="token operator">:</span> <span class="token punctuation">{</span><br>			<span class="token function-variable function">option</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> escape</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>				<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class="py-2 d-flex"><br>							&lt;div class="mb-1"><br>								&lt;span class="h5"><br>									</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>label<span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"><br>								&lt;/span><br>							&lt;/div><br>					 		&lt;div class="ml-auto"></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">', '</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div><br>						&lt;/div></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>			<span class="token punctuation">}</span><br>		<span class="token punctuation">}</span><span class="token punctuation">,</span><br>	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
				</div>
				

				<div class="tab-pane fade " id="html-tab-2" role="tabpanel" aria-labelledby="profile-tab">
					<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select-state<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Software: WordPress, Apache ...<span class="token punctuation">"</span></span> <span class="token attr-name">multiple</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></code></pre>
				</div>

				
				<div class="tab-pane fade" id="style-tab-2" role="tabpanel" aria-labelledby="profile-tab">
					<pre class="language-css"><code class="language-css"><span class="token selector">.icon</span><span class="token punctuation">{</span><br>	<span class="token property">width</span><span class="token punctuation">:</span> 3rem<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
				</div>
				

			</div>
		</div>
	</div>
	</div>





<style type="text/css">

</style>






<script>

</script>


	

	<div class="demo py-5  demo-jquery ">

		
<label class="h2 mb-3">
	Ajax Loading, Custom Scoring, and Inline Display
</label>

	<div>
		<div>
			<div class="demo-html">
				
<div id="select-repo-inline">
<select id="select-repo2" placeholder="Pick a repository..." multiple></select>
</div>

			</div>

			
			<textarea hidden>
&lt;div id=&quot;select-repo-inline&quot;&gt;
&lt;select id=&quot;select-repo2&quot; placeholder=&quot;Pick a repository...&quot; multiple&gt;&lt;/select&gt;
&lt;/div&gt;
</textarea>
			<script>

// a small plugin to prevent results from closing
TomSelect.define('no_close',function(){
	this.close = function(){};
});

new TomSelect('#select-repo2',{
		valueField: 'url',
		labelField: 'name',
		searchField: ['name','description'],
		options: [],
		create: false,
		maxOptions: 10,
		dropdownParent: '#select-repo-inline',
		plugins:['no_close'],
		// custom scoring
		score: function(search) {
			var score = this.getScoreFunction(search);
			return function(item) {
				return score(item) * (1 + Math.min(item.watchers / 100, 1));
			};
		},
		// fetch remote data https://caniuse.com/fetch
		load: function(query, callback) {
			if (!query.length) return callback();

			var url = 'https://api.github.com/search/repositories?q=' + encodeURIComponent(query);
			fetch(url)
				.then(response => response.json())
				.then(json => {
					callback(json.items);
				}).catch(()=>{
					callback();
				});

		},
		// custom rendering functions for options and items
		render: {
			option: function(item, escape) {
				return `<div class="row border-bottom py-2">
							<div class="col-sm-1">
								<img class="img-fluid" src="${item.owner.avatar_url}" />
							</div>
							<div class="col-sm-11">
								<div class="mt-0">${escape(item.name)}
									<span class="small text-muted">by ${escape(item.owner.login)}</span>
								</div>
								<div class="mb-1">${escape(item.description)}</div>
								<div class="d-flex text-muted">
									<div class="mr-3"><i class="fa fa-code"></i> ${escape(item.language)}</div>
									<div class="mr-3"><i class="fa fa-flash"></i> ${escape(item.forks_count)} Forks</div>
									<div class="mr-3"><i class="fa fa-star"></i> ${escape(item.stargazers_count)} Stars</div>
									<div class="mr-3"><i class="fa fa-eye"></i> ${item.watchers_count} Watchers</div>
								</div>
							</div>
						</div>`;
			},
			item: function(item, escape) {
				return `<div class="py-2 d-flex">
							<div class="icon mr-3">
								<img class="img-fluid" src="${item.owner.avatar_url}" />
							</div>
							<div>
								<div class="mb-1">
									<span class="h4">
										${ escape(item.name) }
									</span>
									<span class="text-muted">by ${ escape(item.owner.login) }</span>
								</div>
						 		<div class="description">${ escape(item.description) }</div>
							</div>
						</div>`;
			}

		}
	});
</script>
			<style>
#select-repo-inline .ts-dropdown {
	position: relative !important;
	top: 0 !important;
	left: 0 !important;
	width: auto !important;
	box-shadow: none;
	height: auto !important;
}
#select-repo-inline .ts-dropdown-content {
	overflow: auto !important;
	max-height: none !important;

}
#select-repo-inline .ts-control{
	position: sticky;
	top: 2rem;
	z-index:2000;
}
#select-repo-inline .option{
	margin: 0;
}
.icon{
	width: 3rem;
}
</style>

		</div>
		<div class="mt-4">

			<ul class="nav nav-tabs" role="tablist">
				
				<li class="nav-item" role="presentation">
					<a class="nav-link active" data-toggle="tab" data-target="#javascript-tab-3" role="tab" aria-controls="home" aria-selected="true">JavaScript</a>
				</li>
				
				<li class="nav-item" role="presentation">
					<a class="nav-link " data-toggle="tab" data-target="#html-tab-3" role="tab" aria-controls="profile" aria-selected="false">HTML</a>
				</li>
				
				<li class="nav-item" role="presentation">
					<a class="nav-link" data-toggle="tab" data-target="#style-tab-3" role="tab" aria-controls="profile" aria-selected="false">CSS</a>
				</li>
				

				
				<li class="nav-item ml-auto">
					<form action="https://jsfiddle.net/api/post/library/pure/" method="POST" target="_blank">
						<input class="jsfiddle-html" type="hidden" name="html" value=""/>
						<input class="jsfiddle-js" type="hidden" name="js" value=""/>
						<input class="jsfiddle-css" type="hidden" name="css" value=""/>
						<input class="jsfiddle-resources" type="hidden" name="resources" value=""/>
							<a class="nav-link opensandbox">JSFiddle</a>
					</form>
				</li>
				<li class="nav-item">
				<form action="https://codepen.io/pen/define" method="POST" target="_blank">
					<input class="codepen" type="hidden" name="data" value=""/>
						<a class="nav-link opensandbox">CodePen</a>
				</form>
				</li>
				

				

			</ul>

			<div class="tab-content">
				
				<div class="tab-pane fade show active" id="javascript-tab-3" role="tabpanel" aria-labelledby="home-tab">
					<pre class="language-js"><code class="language-js"><span class="token comment">// a small plugin to prevent results from closing</span><br>TomSelect<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'no_close'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">close</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">new</span> <span class="token class-name">TomSelect</span><span class="token punctuation">(</span><span class="token string">'#select-repo2'</span><span class="token punctuation">,</span><span class="token punctuation">{</span><br>		valueField<span class="token operator">:</span> <span class="token string">'url'</span><span class="token punctuation">,</span><br>		labelField<span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span><br>		searchField<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'description'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>		options<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>		create<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>		maxOptions<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span><br>		dropdownParent<span class="token operator">:</span> <span class="token string">'#select-repo-inline'</span><span class="token punctuation">,</span><br>		plugins<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'no_close'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>		<span class="token comment">// custom scoring</span><br>		<span class="token function-variable function">score</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">search</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>			<span class="token keyword">var</span> score <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getScoreFunction</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">;</span><br>			<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>				<span class="token keyword">return</span> <span class="token function">score</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>watchers <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>			<span class="token punctuation">}</span><span class="token punctuation">;</span><br>		<span class="token punctuation">}</span><span class="token punctuation">,</span><br>		<span class="token comment">// fetch remote data https://caniuse.com/fetch</span><br>		<span class="token function-variable function">load</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">query<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>query<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>			<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">'https://api.github.com/search/repositories?q='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span><br>			<span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><br>				<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>				<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">json</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>					<span class="token function">callback</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>items<span class="token punctuation">)</span><span class="token punctuation">;</span><br>				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">{</span><br>					<span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>		<span class="token punctuation">}</span><span class="token punctuation">,</span><br>		<span class="token comment">// custom rendering functions for options and items</span><br>		render<span class="token operator">:</span> <span class="token punctuation">{</span><br>			<span class="token function-variable function">option</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> escape</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>				<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class="row border-bottom py-2"><br>							&lt;div class="col-sm-1"><br>								&lt;img class="img-fluid" src="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>avatar_url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">" /><br>							&lt;/div><br>							&lt;div class="col-sm-11"><br>								&lt;div class="mt-0"></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"><br>									&lt;span class="small text-muted">by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>login<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span><br>								&lt;/div><br>								&lt;div class="mb-1"></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>description<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div><br>								&lt;div class="d-flex text-muted"><br>									&lt;div class="mr-3">&lt;i class="fa fa-code">&lt;/i> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>language<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div><br>									&lt;div class="mr-3">&lt;i class="fa fa-flash">&lt;/i> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>forks_count<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> Forks&lt;/div><br>									&lt;div class="mr-3">&lt;i class="fa fa-star">&lt;/i> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>stargazers_count<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> Stars&lt;/div><br>									&lt;div class="mr-3">&lt;i class="fa fa-eye">&lt;/i> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>watchers_count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> Watchers&lt;/div><br>								&lt;/div><br>							&lt;/div><br>						&lt;/div></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>			<span class="token punctuation">}</span><span class="token punctuation">,</span><br>			<span class="token function-variable function">item</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> escape</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>				<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class="py-2 d-flex"><br>							&lt;div class="icon mr-3"><br>								&lt;img class="img-fluid" src="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>avatar_url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">" /><br>							&lt;/div><br>							&lt;div><br>								&lt;div class="mb-1"><br>									&lt;span class="h4"><br>										</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"><br>									&lt;/span><br>									&lt;span class="text-muted">by </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>login<span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span><br>								&lt;/div><br>						 		&lt;div class="description"></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token function">escape</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>description<span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div><br>							&lt;/div><br>						&lt;/div></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>			<span class="token punctuation">}</span><br><br>		<span class="token punctuation">}</span><br>	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
				</div>
				

				<div class="tab-pane fade " id="html-tab-3" role="tabpanel" aria-labelledby="profile-tab">
					<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select-repo-inline<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>select-repo2<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Pick a repository...<span class="token punctuation">"</span></span> <span class="token attr-name">multiple</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
				</div>

				
				<div class="tab-pane fade" id="style-tab-3" role="tabpanel" aria-labelledby="profile-tab">
					<pre class="language-css"><code class="language-css"><span class="token selector">#select-repo-inline .ts-dropdown</span> <span class="token punctuation">{</span><br>	<span class="token property">position</span><span class="token punctuation">:</span> relative <span class="token important">!important</span><span class="token punctuation">;</span><br>	<span class="token property">top</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span><span class="token punctuation">;</span><br>	<span class="token property">left</span><span class="token punctuation">:</span> 0 <span class="token important">!important</span><span class="token punctuation">;</span><br>	<span class="token property">width</span><span class="token punctuation">:</span> auto <span class="token important">!important</span><span class="token punctuation">;</span><br>	<span class="token property">box-shadow</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><br>	<span class="token property">height</span><span class="token punctuation">:</span> auto <span class="token important">!important</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token selector">#select-repo-inline .ts-dropdown-content</span> <span class="token punctuation">{</span><br>	<span class="token property">overflow</span><span class="token punctuation">:</span> auto <span class="token important">!important</span><span class="token punctuation">;</span><br>	<span class="token property">max-height</span><span class="token punctuation">:</span> none <span class="token important">!important</span><span class="token punctuation">;</span><br><br><span class="token punctuation">}</span><br><span class="token selector">#select-repo-inline .ts-control</span><span class="token punctuation">{</span><br>	<span class="token property">position</span><span class="token punctuation">:</span> sticky<span class="token punctuation">;</span><br>	<span class="token property">top</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span><br>	<span class="token property">z-index</span><span class="token punctuation">:</span>2000<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token selector">#select-repo-inline .option</span><span class="token punctuation">{</span><br>	<span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token selector">.icon</span><span class="token punctuation">{</span><br>	<span class="token property">width</span><span class="token punctuation">:</span> 3rem<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
				</div>
				

			</div>
		</div>
	</div>
	</div>


					</div>
				</div>
			</div>
		</div>

		<footer>
	    </footer>
	</body>
</html>
